---
title: "Лабораторна робота № 2. Створення проєкту зі статистичної обробки даних у стилі literate programming"
author: "Процко Поліна"
date: "`r Sys.Date()`"
format: 
  html:
    toc: true
    code-fold: show
    self-contained: true
editor: visual
bibliography: references.bib
lang: uk
---

## 1. Постановка завдання

**Мета:** Створити електронний документ, виконати обробку даних та побудувати графік функції, використовуючи сучасні можливості мови R (пакети `tidyverse`, `ggplot2`) згідно з вимогами домашнього завдання [@manual_lab2].

**Завдання:** Побудувати графік функції: $$y(x) = b_0 + b_1x + b_2x^2$$ для діапазону $x \in [x_1; x_2]$.

**Параметри:** \* $b_0 = 2$ \* $b_1 = 3$ \* $b_2 = 1.57$ \* $x \in [-1; 1]$

------------------------------------------------------------------------

## 2. Виконання роботи

### 2.1 Підготовка бібліотек та даних

Використовуємо пакет `rio` для експорту/імпорту та `tidyverse` для маніпуляцій з даними та побудови графіків [@rio2018; @wickham2009].

```{r}
#| label: setup
#| message: false
#| warning: false

# Підключення бібліотек
library(tidyverse) # Включає ggplot2, dplyr, magrittr (%>%)
library(rio)       # Для експорту/імпорту
library(knitr)     # Для таблиць

# Створення папки для даних, якщо її немає
if (!dir.exists("data")) {
  dir.create("data")
}

# Задання параметрів
b0 <- 2
b1 <- 3
b2 <- 1.57

# Генерація даних з використанням пайпів (%>%)
# Це виконання пункту "Домашнє завдання: Оптимізувати код"
df_function <- tibble(x = seq(-1, 1, 0.1)) %>% 
  mutate(y = b0 + b1 * x + b2 * x^2)

# Перегляд перших рядків
head(df_function) %>% kable(caption = "Згенеровані дані (фрагмент)")
```

### 2.2 Експорт та імпорт даних

Демонстрація роботи з файловою системою за допомогою пакету `rio`.

```{r}
#| label: export-import

# Експорт даних у CSV
export(df_function, "data/function_data.csv")

# Зворотний імпорт (для перевірки)
df_imported <- import("data/function_data.csv")

# Перевірка структури
glimpse(df_imported)
```

### 2.3 Візуалізація (ggplot2)

Побудова графіка засобами пакету `ggplot2`, як вимагається у домашньому завданні [@wickham2009]. Ми додамо лінію функції та точки значень.

```{r}
#| label: plot-ggplot
#| fig-cap: "Графік квадратичної функції (ggplot2)"

ggplot(df_imported, aes(x = x, y = y)) +
  # Лінія графіка
  geom_line(color = "red", linewidth = 1) +
  # Точки значень
  geom_point(color = "blue", size = 2) +
  # Оформлення
  labs(
    title = expression(paste("Графік функції ", y(x) == b[0] + b[1]*x + b[2]*x^2)),
    subtitle = paste("Параметри: b0 =", b0, ", b1 =", b1, ", b2 =", b2),
    x = "Аргумент (x)",
    y = "Значення функції (y)"
  ) +
  theme_minimal()
```

------------------------------------------------------------------------

## 3. Результати

Параметри, що використовувалися для розрахунку, наведені у таблиці нижче:

| Параметр  | Значення | Опис                 |
|:----------|:---------|:---------------------|
| $b_0$     | `r b0`   | Вільний член         |
| $b_1$     | `r b1`   | Коефіцієнт при $x$   |
| $b_2$     | `r b2`   | Коефіцієнт при $x^2$ |
| $x_{min}$ | -1       | Початок інтервалу    |
| $x_{max}$ | 1        | Кінець інтервалу     |

: Таблиця параметрів функції {#tbl-params}

### Висновки

У ході роботи було створено динамічний документ R Markdown. Виконано генерацію даних, їх експорт та імпорт. Код оптимізовано з використанням потокового оператора `%>%`. Графічну візуалізацію реалізовано за допомогою сучасної бібліотеки `ggplot2` [@wickham2009].

------------------------------------------------------------------------

## Перелік посилань

::: {#refs}
:::
